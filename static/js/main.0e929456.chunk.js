(this["webpackJsonpagurk-client"]=this["webpackJsonpagurk-client"]||[]).push([[0],{13:function(e,t,n){e.exports=n.p+"static/media/logo.25bf045c.svg"},16:function(e,t,n){e.exports=n(25)},21:function(e,t,n){},22:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),u=n.n(c),l=(n(21),n(6)),i=n(31),o=n(13),s=n.n(o),d=(n(22),n(14)),m=n(2);function b(e){var t=e.card;return r.a.createElement("div",null,t.kind," ",t.color)}function f(e){var t=e.card;return r.a.createElement("div",null,t.suit," ",t.rank)}function E(e){return e.kind===m.JOKER_CARD_KIND?e.color+e.rank:e.suit+e.rank}function p(e){var t=e.card;return t.kind===m.JOKER_CARD_KIND?r.a.createElement(b,{card:t}):r.a.createElement(f,{card:t})}function A(e){var t=e.cards,n=e.handleSelect,a=t.map((function(e){return r.a.createElement("li",{key:E(e)},r.a.createElement("input",{type:"checkbox",checked:e.isSelected,onChange:function(){return n(e)}}),r.a.createElement(p,{card:e}))}));return r.a.createElement("ul",null,a)}function O(e){var t=e.playSelectedCards;return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"It is your turn...")),r.a.createElement("button",{type:"button",onClick:t},"Play Cards"))}function R(e){var t=e.requestCards,n=e.playCards,c=Object(a.useState)([]),u=Object(l.a)(c,2),i=u[0],o=u[1],s=Object(a.useState)(!1),b=Object(l.a)(s,2),f=b[0],E=b[1];return Object(a.useEffect)((function(){var e=t().subscribe((function(){return E(!0)}));return function(){return e.unsubscribe()}})),r.a.createElement("div",null,r.a.createElement("h2",null,"Hand"),r.a.createElement(A,{cards:i,handleSelect:function(e){var t=i.map((function(t){return Object(m.cardEquals)(e,t)?Object(d.a)({},t,{isSelected:!t.isSelected}):t}));o(t)}}),f&&r.a.createElement(O,{playSelectedCards:function(){var e=i.filter((function(e){return e.isSelected})),t=i.filter((function(e){return!e.isSelected}));n(e),E(!1),o(t)}}))}function S(e){var t=e.playerId;return r.a.createElement("div",null,r.a.createElement("p",null,t))}function C(){var e=Object(a.useState)([]),t=Object(l.a)(e,1)[0].map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(S,{playerId:e}))}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Players"),r.a.createElement("ul",null,t))}function v(e){var t=e.cards.map((function(e){return r.a.createElement("li",{key:E(e)},r.a.createElement(p,{card:e}))}));return r.a.createElement("ul",null,t)}function _(){var e=Object(a.useState)([]),t=Object(l.a)(e,1)[0];return r.a.createElement("div",null,r.a.createElement("h2",null,"Stack"),r.a.createElement(v,{cards:t}))}function j(e){var t=e.serverApi;return r.a.createElement("div",null,r.a.createElement("h1",null,"Agurk"),r.a.createElement("button",{type:"button",onClick:t.startGame},"Start Game"),r.a.createElement(C,null),r.a.createElement(_,null),r.a.createElement(R,{requestCards:t.requestCards,playCards:t.playCards}))}var g=n(15),N=n(29),T=n(30);function y(e){return Object(g.a)(Object(N.a)((function(t){return t.name===e})))}function D(e){return e.next({name:m.MessageName.START_GAME})}function h(e){return e.pipe(y(m.MessageName.BROADCAST_START_GAME),Object(T.a)((function(e){return e.data})))}function k(e){return e.pipe(y(m.MessageName.DEALT_CARDS),Object(T.a)((function(e){return e.data})))}function M(e){return e.pipe(y(m.MessageName.REQUEST_CARDS),Object(T.a)((function(){})))}function B(e,t){return e.next({name:m.MessageName.PLAY_CARDS,data:t})}function G(e){return e.pipe(y(m.MessageName.BROADCAST_PLAYER_TURN),Object(T.a)((function(e){return e.data})))}function w(e){return e.pipe(y(m.MessageName.BROADCAST_PLAYER_TURN_ERROR),Object(T.a)((function(e){return e.data})))}function L(e){return e.pipe(y(m.MessageName.BROADCAST_START_ROUND),Object(T.a)((function(e){return e.data})))}function P(e){return e.pipe(y(m.MessageName.BROADCAST_END_ROUND),Object(T.a)((function(e){return e.data})))}function I(e){return e.pipe(y(m.MessageName.BROADCAST_START_CYCLE),Object(T.a)((function(e){return e.data})))}function U(e){return e.pipe(y(m.MessageName.BROADCAST_END_CYCLE),Object(T.a)((function(e){return e.data})))}function Y(e){return e.pipe(y(m.MessageName.BROADCAST_START_PLAYER_TURN),Object(T.a)((function(e){return e.data})))}function q(e){return e.pipe(y(m.MessageName.BROADCAST_END_GAME),Object(T.a)((function(e){return e.data})))}function x(e){return e.pipe(y(m.MessageName.BROADCAST_GAME_ERROR),Object(T.a)((function(e){return e.data})))}function J(e){return e.pipe(y(m.MessageName.AVAILABLE_CARDS),Object(T.a)((function(e){return e.data})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement((function(){var e=Object(a.useState)(Object(i.a)("ws://localhost:3001")),t=Object(l.a)(e,1)[0];Object(a.useEffect)((function(){return t.subscribe(),function(){return t.complete()}}),[t]);var n=function(e){return{startGame:D.bind(null,e),broadcastStartGame:h.bind(null,e),dealtCards:k.bind(null,e),requestCards:M.bind(null,e),playCards:B.bind(null,e),broadcastPlayerTurn:G.bind(null,e),broadcastPlayerTurnError:w.bind(null,e),broadcastStartRound:L.bind(null,e),broadcastEndRound:P.bind(null,e),broadcastStartCycle:I.bind(null,e),broadcastEndCycle:U.bind(null,e),broadcastStartPlayerTurn:Y.bind(null,e),broadcastEndGame:q.bind(null,e),broadcastGameError:x.bind(null,e),availableCards:J.bind(null,e)}}(t);return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:s.a,className:"App-logo",alt:"logo"})),r.a.createElement("main",null,r.a.createElement(j,{serverApi:n})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.0e929456.chunk.js.map